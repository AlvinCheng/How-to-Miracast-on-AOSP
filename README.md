See https://github.com/kensuke/How-to-Miracast-on-AOSP/wiki

Everything you want..
